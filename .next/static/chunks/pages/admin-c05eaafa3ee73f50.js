(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[964],{8195:function(e,s,a){(window.__NEXT_P=window.__NEXT_P||[]).push(["/admin",function(){return a(5392)}])},5392:function(e,s,a){"use strict";a.r(s),a.d(s,{default:function(){return c}});var t=a(5893),r=a(7294),n=a(9008),i=a.n(n),o=a(1664),l=a.n(o),d=a(1163),m=a(3299);function c(){var e;let{data:s,status:a}=(0,m.useSession)(),[n,o]=(0,r.useState)(!0),[c,x]=(0,r.useState)({totalEmployers:0,pendingEmployers:0,totalJobSeekers:0,pendingJobSeekers:0}),h=(0,d.useRouter)();async function g(){try{o(!0);let e=await fetch("/api/admin/employers?limit=1"),s=await e.json(),a=await fetch("/api/admin/employers?status=pending&limit=1"),t=await a.json(),r=await fetch("/api/admin/job-seekers?limit=1"),n=await r.json(),i=await fetch("/api/admin/job-seekers?status=pending&limit=1"),l=await i.json();x({totalEmployers:s.pagination.total,pendingEmployers:t.pagination.total,totalJobSeekers:n.pagination.total,pendingJobSeekers:l.pagination.total})}catch(e){console.error("Error fetching dashboard stats:",e)}finally{o(!1)}}return((0,r.useEffect)(()=>{if("unauthenticated"===a){h.push("/admin/login");return}"authenticated"===a&&g()},[a,h]),"loading"===a||n)?(0,t.jsx)("div",{className:"min-h-screen flex items-center justify-center",children:(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-orange-500 mx-auto"}),(0,t.jsx)("p",{className:"mt-4 text-gray-600",children:"Loading dashboard..."})]})}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)(i(),{children:[(0,t.jsx)("title",{children:"Admin Dashboard - Glodinas Flex Work"}),(0,t.jsx)("meta",{name:"description",content:"Admin dashboard for Glodinas Flex Work"})]}),(0,t.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,t.jsx)("header",{className:"bg-white shadow",children:(0,t.jsxs)("div",{className:"max-w-7xl mx-auto px-4 py-4 sm:px-6 lg:px-8 flex justify-between items-center",children:[(0,t.jsx)("h1",{className:"text-2xl font-bold text-gray-900",children:"Admin Dashboard"}),(0,t.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,t.jsxs)("span",{className:"text-gray-600",children:["Welcome, ",(null==s?void 0:null===(e=s.user)||void 0===e?void 0:e.name)||"Admin"]}),(0,t.jsx)("button",{onClick:()=>(0,m.signOut)(),className:"text-sm text-orange-600 hover:text-orange-800",children:"Sign Out"})]})]})}),(0,t.jsxs)("main",{className:"max-w-7xl mx-auto px-4 py-8 sm:px-6 lg:px-8",children:[(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[(0,t.jsxs)("div",{className:"bg-white rounded-lg shadow p-6",children:[(0,t.jsx)("h2",{className:"text-gray-500 text-sm font-medium uppercase tracking-wide",children:"Total Employers"}),(0,t.jsx)("p",{className:"mt-2 text-4xl font-semibold text-gray-900",children:c.totalEmployers}),(0,t.jsx)(l(),{href:"/admin/employers",children:(0,t.jsx)("a",{className:"mt-3 text-sm font-medium text-orange-600 hover:text-orange-500",children:"View all"})})]}),(0,t.jsxs)("div",{className:"bg-white rounded-lg shadow p-6",children:[(0,t.jsx)("h2",{className:"text-gray-500 text-sm font-medium uppercase tracking-wide",children:"Pending Employers"}),(0,t.jsx)("p",{className:"mt-2 text-4xl font-semibold text-orange-600",children:c.pendingEmployers}),(0,t.jsx)(l(),{href:"/admin/employers?status=pending",children:(0,t.jsx)("a",{className:"mt-3 text-sm font-medium text-orange-600 hover:text-orange-500",children:"View pending"})})]}),(0,t.jsxs)("div",{className:"bg-white rounded-lg shadow p-6",children:[(0,t.jsx)("h2",{className:"text-gray-500 text-sm font-medium uppercase tracking-wide",children:"Total Job Seekers"}),(0,t.jsx)("p",{className:"mt-2 text-4xl font-semibold text-gray-900",children:c.totalJobSeekers}),(0,t.jsx)(l(),{href:"/admin/job-seekers",children:(0,t.jsx)("a",{className:"mt-3 text-sm font-medium text-orange-600 hover:text-orange-500",children:"View all"})})]}),(0,t.jsxs)("div",{className:"bg-white rounded-lg shadow p-6",children:[(0,t.jsx)("h2",{className:"text-gray-500 text-sm font-medium uppercase tracking-wide",children:"Pending Job Seekers"}),(0,t.jsx)("p",{className:"mt-2 text-4xl font-semibold text-orange-600",children:c.pendingJobSeekers}),(0,t.jsx)(l(),{href:"/admin/job-seekers?status=pending",children:(0,t.jsx)("a",{className:"mt-3 text-sm font-medium text-orange-600 hover:text-orange-500",children:"View pending"})})]})]}),(0,t.jsxs)("div",{className:"bg-white rounded-lg shadow mb-8",children:[(0,t.jsx)("div",{className:"px-6 py-5 border-b border-gray-200",children:(0,t.jsx)("h3",{className:"text-lg font-medium text-gray-900",children:"Quick Actions"})}),(0,t.jsxs)("div",{className:"p-6 grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[(0,t.jsx)(l(),{href:"/admin/employers",children:(0,t.jsxs)("a",{className:"flex items-center p-4 border border-gray-200 rounded-lg hover:bg-gray-50",children:[(0,t.jsx)("div",{className:"flex-shrink-0 bg-orange-100 rounded-md p-3",children:(0,t.jsx)("svg",{className:"h-6 w-6 text-orange-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4"})})}),(0,t.jsxs)("div",{className:"ml-4",children:[(0,t.jsx)("p",{className:"text-base font-medium text-gray-900",children:"Manage Employers"}),(0,t.jsx)("p",{className:"text-sm text-gray-500",children:"Review and process employer submissions"})]})]})}),(0,t.jsx)(l(),{href:"/admin/job-seekers",children:(0,t.jsxs)("a",{className:"flex items-center p-4 border border-gray-200 rounded-lg hover:bg-gray-50",children:[(0,t.jsx)("div",{className:"flex-shrink-0 bg-orange-100 rounded-md p-3",children:(0,t.jsx)("svg",{className:"h-6 w-6 text-orange-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})})}),(0,t.jsxs)("div",{className:"ml-4",children:[(0,t.jsx)("p",{className:"text-base font-medium text-gray-900",children:"Manage Job Seekers"}),(0,t.jsx)("p",{className:"text-sm text-gray-500",children:"Review and process job seeker applications"})]})]})}),(0,t.jsxs)("div",{className:"flex items-center p-4 border border-gray-200 rounded-lg hover:bg-gray-50 cursor-pointer",children:[(0,t.jsx)("div",{className:"flex-shrink-0 bg-orange-100 rounded-md p-3",children:(0,t.jsx)("svg",{className:"h-6 w-6 text-orange-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 10v6m0 0l-3-3m3 3l3-3m2 8H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})})}),(0,t.jsxs)("div",{className:"ml-4",children:[(0,t.jsx)("p",{className:"text-base font-medium text-gray-900",children:"Export Data"}),(0,t.jsxs)("div",{className:"mt-2 space-y-2",children:[(0,t.jsx)("a",{href:"/api/admin/export?type=employers",className:"block text-sm text-orange-600 hover:text-orange-500",children:"Export Employers CSV"}),(0,t.jsx)("a",{href:"/api/admin/export?type=job-seekers",className:"block text-sm text-orange-600 hover:text-orange-500",children:"Export Job Seekers CSV"})]})]})]})]})]})]})]})]})}},9008:function(e,s,a){e.exports=a(4764)}},function(e){e.O(0,[774,888,179],function(){return e(e.s=8195)}),_N_E=e.O()}]);