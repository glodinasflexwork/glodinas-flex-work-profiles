"use strict";(()=>{var e={};e.id=724,e.ids=[220,724],e.modules={361:e=>{e.exports=require("next/dist/compiled/next-server/pages.runtime.prod.js")},2015:e=>{e.exports=require("react")},2326:e=>{e.exports=require("react-dom")},3873:e=>{e.exports=require("path")},4075:e=>{e.exports=require("zlib")},4722:e=>{e.exports=require("next-auth/react")},7910:e=>{e.exports=require("stream")},8563:(e,r,t)=>{t.r(r),t.d(r,{config:()=>T,default:()=>y,getServerSideProps:()=>N,getStaticPaths:()=>j,getStaticProps:()=>C,reportWebVitals:()=>I,routeModule:()=>k,unstable_getServerProps:()=>G,unstable_getServerSideProps:()=>L,unstable_getStaticParams:()=>D,unstable_getStaticPaths:()=>A,unstable_getStaticProps:()=>O});var a={};t.r(a),t.d(a,{default:()=>E,getServerSideProps:()=>M});var s=t(3885),i=t(237),o=t(1413),n=t(9616),u=t.n(n),l=t(7189),d=t(8732);let p=require("next-auth/next"),c=require("next-auth");var m=t.n(c);let g=require("next-auth/providers/credentials");var h=t.n(g);let x=require("next-auth/providers/google");var b=t.n(x);let v=require("@next-auth/prisma-adapter"),S=require("@prisma/client"),P=require("bcrypt");var q=t.n(P);let w=new S.PrismaClient,f={adapter:(0,v.PrismaAdapter)(w),providers:[h()({name:"Credentials",credentials:{email:{label:"Email",type:"text"},password:{label:"Password",type:"password"}},async authorize(e){let r=await w.user.findUnique({where:{email:e.email}});if(!r)throw Error("No user found with this email");if(!await q().compare(e.password,r.password))throw Error("Invalid password");return r}}),b()({clientId:process.env.GOOGLE_CLIENT_ID,clientSecret:process.env.GOOGLE_CLIENT_SECRET})],session:{strategy:"jwt"},pages:{signIn:"/auth/login",signOut:"/auth/logout",error:"/auth/error"},secret:process.env.NEXTAUTH_SECRET};m()(f);var _=t(4722);function E({user:e}){return(0,d.jsxs)("div",{className:"max-w-2xl mx-auto mt-20 p-6 border rounded shadow-sm",children:[(0,d.jsxs)("h1",{className:"text-3xl font-bold mb-4",children:["Welcome, ",e.name||e.email," \uD83D\uDC4B"]}),(0,d.jsx)("p",{className:"text-gray-600",children:"This is your protected dashboard."}),(0,d.jsx)("button",{onClick:()=>(0,_.signOut)({callbackUrl:"/auth/login"}),className:"mt-6 bg-red-500 hover:bg-red-600 text-white font-semibold px-4 py-2 rounded",children:"Logout"})]})}async function M(e){let r=await (0,p.getServerSession)(e.req,e.res,f);return r?{props:{user:r.user}}:{redirect:{destination:"/auth/login",permanent:!1}}}let y=(0,o.M)(a,"default"),C=(0,o.M)(a,"getStaticProps"),j=(0,o.M)(a,"getStaticPaths"),N=(0,o.M)(a,"getServerSideProps"),T=(0,o.M)(a,"config"),I=(0,o.M)(a,"reportWebVitals"),O=(0,o.M)(a,"unstable_getStaticProps"),A=(0,o.M)(a,"unstable_getStaticPaths"),D=(0,o.M)(a,"unstable_getStaticParams"),G=(0,o.M)(a,"unstable_getServerProps"),L=(0,o.M)(a,"unstable_getServerSideProps"),k=new s.PagesRouteModule({definition:{kind:i.A.PAGES,page:"/dashboard",pathname:"/dashboard",bundlePath:"",filename:""},components:{App:l.default,Document:u()},userland:a})},8732:e=>{e.exports=require("react/jsx-runtime")},8751:e=>{e.exports=require("next-i18next")},9021:e=>{e.exports=require("fs")}};var r=require("../webpack-runtime.js");r.C(e);var t=e=>r(r.s=e),a=r.X(0,[89,117,616,989],()=>t(8563));module.exports=a})();