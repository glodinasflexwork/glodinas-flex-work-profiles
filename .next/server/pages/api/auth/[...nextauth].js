"use strict";(()=>{var e={};e.id=748,e.ids=[748],e.modules={145:e=>{e.exports=require("next/dist/compiled/next-server/pages-api.runtime.prod.js")},6249:(e,r)=>{Object.defineProperty(r,"l",{enumerable:!0,get:function(){return function e(r,n){return n in r?r[n]:"then"in r&&"function"==typeof r.then?r.then(r=>e(r,n)):"function"==typeof r&&"default"===n?r:void 0}}})},1142:(e,r,n)=>{n.r(r),n.d(r,{config:()=>A,default:()=>g,routeModule:()=>P});var a={};n.r(a),n.d(a,{authOptions:()=>p,default:()=>f});var i=n(1802),l=n(7153),t=n(6249);let o=require("next-auth");var d=n.n(o);let s=require("next-auth/providers/credentials");var m=n.n(s);let u=require("@next-auth/prisma-adapter");var c=n(3214);let p={adapter:(0,u.PrismaAdapter)(c.Z),providers:[m()({name:"Credentials",credentials:{email:{label:"Email",type:"email"},password:{label:"Password",type:"password"}},async authorize(e){try{if(console.log("Auth attempt:",e.email),"admin@glodinasflexwork.nl"===e.email&&"admin123"===e.password){console.log("Demo admin login detected");let r=await c.Z.admin.findUnique({where:{email:e.email}});if(r)console.log("Admin user found:",r.id);else{console.log("Creating new admin user");try{r=await c.Z.admin.create({data:{email:"admin@glodinasflexwork.nl",name:"Admin User",role:"admin",stackAuthId:"demo-admin-id"}}),console.log("Admin created successfully:",r.id)}catch(e){return console.error("Error creating admin:",e),{id:"demo-id",email:"admin@glodinasflexwork.nl",name:"Admin User",role:"admin"}}}return{id:r?.id||"demo-id",email:r?.email||"admin@glodinasflexwork.nl",name:r?.name||"Admin User",role:r?.role||"admin"}}let r=await c.Z.admin.findUnique({where:{email:e.email}});if(!r)return console.log("Admin not found"),null;if("admin123"===e.password)return console.log("Password verified for:",r.email),{id:r.id,email:r.email,name:r.name,role:r.role};return console.log("Invalid password"),null}catch(e){return console.error("Auth error:",e),null}}})],session:{strategy:"jwt",maxAge:2592e3},callbacks:{jwt:async({token:e,user:r})=>(r&&(e.id=r.id,e.role=r.role),e),session:async({session:e,token:r})=>(r&&(e.user.id=r.id,e.user.role=r.role),e)},pages:{signIn:"/admin/login",error:"/admin/error"},debug:!1,secret:process.env.NEXTAUTH_SECRET||"your-secret-key-for-development"},f=d()(p),g=(0,t.l)(a,"default"),A=(0,t.l)(a,"config"),P=new i.PagesAPIRouteModule({definition:{kind:l.x.PAGES_API,page:"/api/auth/[...nextauth]",pathname:"/api/auth/[...nextauth]",bundlePath:"",filename:""},userland:a})},3214:(e,r,n)=>{n.d(r,{Z:()=>i});let a=require("@prisma/client"),i=global.prisma||new a.PrismaClient},7153:(e,r)=>{var n;Object.defineProperty(r,"x",{enumerable:!0,get:function(){return n}}),function(e){e.PAGES="PAGES",e.PAGES_API="PAGES_API",e.APP_PAGE="APP_PAGE",e.APP_ROUTE="APP_ROUTE"}(n||(n={}))},1802:(e,r,n)=>{e.exports=n(145)}};var r=require("../../../webpack-api-runtime.js");r.C(e);var n=r(r.s=1142);module.exports=n})();